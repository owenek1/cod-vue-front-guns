(function(t){function e(e){for(var s,o,n=e[0],l=e[1],c=e[2],p=0,u=[];p<n.length;p++)o=n[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},r=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},1355:function(t,e,a){"use strict";a("dd44")},2687:function(t,e,a){"use strict";a("9306")},"29e6":function(t,e,a){},"43ad":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=a("d1d6"),r=a.n(i),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header"),a("Main")],1)},n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"p-3 bg-dark text-white"},[a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"},[a("Menu"),t.isAuthenticated?a("div",{staticClass:"dropdown text-end"},[t._m(0),a("ul",{staticClass:"dropdown-menu text-small",attrs:{"aria-labelledby":"dropdownUser1"}},["admin"!=t.user.role?a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/user/weaponbuilds/new"}},[t._v("New weapon build...")])],1):t._e(),"admin"!=t.user.role?a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/user/weaponbuilds"}},[t._v("My weapon builds...")])],1):t._e(),"admin"!=t.user.role?a("li",[a("hr",{staticClass:"dropdown-divider"})]):t._e(),a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/user/profile"}},[t._v("Profile")])],1),"admin"!=t.user.role?a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/user/nightbot"}},[t._v("Nightbot")])],1):t._e(),"admin"==t.user.role?a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/admin/dashboard"}},[t._v("Dashboard")])],1):t._e(),t._m(1),a("li",[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.logoutAction}},[t._v("Logout")])])])]):a("div",{staticClass:"text-end"},[a("button",{staticClass:"btn btn-outline-light me-2",attrs:{type:"button"},on:{click:t.loginAction}},[t._v("Login")]),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.registerAction}},[t._v("Register")])])],1)])])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"d-block link-light text-decoration-none dropdown-toggle",attrs:{href:"#",id:"dropdownUser1","data-bs-toggle":"dropdown","aria-expanded":"false"}},[a("img",{staticClass:"rounded-circle",attrs:{src:"https://github.com/mdo.png",alt:"mdo",width:"42",height:"42"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("hr",{staticClass:"dropdown-divider"})])}],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"},[a("li",[a("router-link",{staticClass:"nav-link px-2",attrs:{"active-class":"","exact-active-class":"text-secondary",to:"/"}},[t._v("Home")])],1),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"dropdown03","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v("Weapon Builds")]),a("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdown03"}},[a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/weaponbuilds"}},[t._v("List")])],1)])]),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"/weapons",id:"dropdown03","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v("CoD Weapons")]),a("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdown03"}},[a("li",[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/weapons"}},[t._v("List")])],1),t._m(0),t._m(1)])])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Another action")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Something else here")])])}],u=(a("2687"),a("2877")),m={},h=Object(u["a"])(m,d,p,!1,null,"c0e21592",null),g=h.exports,v={name:"App",components:{Menu:g},created(){this.$store.state.isAuthenticated&&this.$store.commit("getUserDetails")},computed:{isAuthenticated(){return this.$store.state.isAuthenticated},user(){return this.$store.state.user}},methods:{loginAction(){let t=this.$router;t.replace("/login")},registerAction(){let t=this.$router;t.replace("/register")},logoutAction(t){t.preventDefault(),localStorage.removeItem("auth_data"),localStorage.removeItem("user"),this.$store.commit("checkIsAuthenticated"),this.$router.push("/login")}}},_=v,f=(a("f91e"),Object(u["a"])(_,l,c,!1,null,"8aa2e4b0",null)),b=f.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"flex-shrink-0"},[a("router-view")],1)},w=[],C={},T=Object(u["a"])(C,y,w,!1,null,null,null),P=T.exports,x={name:"App",components:{Header:b,Main:P}},U=x,k=(a("034f"),Object(u["a"])(U,o,n,!1,null,null,null)),E=k.exports,L=a("2f62"),S={getAuthHeader(){let t=JSON.parse(localStorage.getItem("auth_data"));return t?{Authorization:"Bearer "+t.access_token}:{}}},$=a("8c4f"),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"d-grid gap-3",staticStyle:{"grid-template-columns":"0.5fr 3fr"}},[a("div",{staticClass:"bg-light border rounded-1"},[a("ul",{staticClass:"list-unstyled ps-0"},[a("li",{staticClass:"mt-3 mb-1"},[a("button",{staticClass:"btn btn-toggle align-items-center rounded",attrs:{"aria-expanded":"true"}},[t._v(" Home ")]),a("div",{staticClass:"collapse show",attrs:{id:"home-collapse"}},[a("ul",{staticClass:"btn-toggle-nav list-unstyled fw-normal pb-1"},[a("li",[a("router-link",{staticClass:"link-dark rounded",attrs:{to:"/admin/dashboard/"}},[t._v("Overview")])],1),a("li",[a("router-link",{staticClass:"link-dark rounded",attrs:{to:"/admin/dashboard/reports"}},[t._v("Reports")])],1)])])]),a("li",{staticClass:"border-top my-3"}),t._m(0),a("li",{staticClass:"border-top my-3"}),a("li",{staticClass:"mb-1"},[a("button",{staticClass:"btn btn-toggle align-items-center rounded",attrs:{"aria-expanded":"true"}},[t._v(" Nightbots ")]),a("div",{staticClass:"collapse show"},[a("ul",{staticClass:"btn-toggle-nav list-unstyled fw-normal pb-1"},[a("li",[a("router-link",{staticClass:"link-dark rounded",attrs:{to:"/admin/dashboard/nightbots/list"}},[t._v("List")])],1)])])]),a("li",{staticClass:"border-top my-3"}),a("li",{staticClass:"mb-1"},[a("button",{staticClass:"btn btn-toggle align-items-center rounded",attrs:{"aria-expanded":"false"}},[t._v(" Weapons ")]),a("div",{staticClass:"collapse show"},[a("ul",{staticClass:"btn-toggle-nav list-unstyled fw-normal pb-1"},[a("li",[a("router-link",{staticClass:"link-dark rounded",attrs:{to:"/admin/dashboard/weapons/list"}},[t._v("List")])],1)])])]),a("li",{staticClass:"border-top my-3"}),t._m(1)])]),a("div",{staticClass:"bg-light border rounded-3"},[a("router-view")],1)])])},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"mb-1"},[a("button",{staticClass:"btn btn-toggle align-items-center rounded",attrs:{"aria-expanded":"true"}},[t._v(" Users ")]),a("div",{staticClass:"collapse show"},[a("ul",{staticClass:"btn-toggle-nav list-unstyled fw-normal pb-1"},[a("li",[a("a",{staticClass:"link-dark rounded",attrs:{href:"#"}},[t._v("New user")])]),a("li",[a("a",{staticClass:"link-dark rounded",attrs:{href:"#"}},[t._v("List")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"mb-1"},[a("button",{staticClass:"btn btn-toggle align-items-center rounded",attrs:{"aria-expanded":"false"}},[t._v(" Weapon Builds ")]),a("div",{staticClass:"collapse show"},[a("ul",{staticClass:"btn-toggle-nav list-unstyled fw-normal pb-1"},[a("li",[a("a",{staticClass:"link-dark rounded",attrs:{href:"#"}},[t._v("List")])])])])])}],R={},j=Object(u["a"])(R,A,N,!1,null,null,null),M=j.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("This is overview of the dashboard")])},W=[],D={},q=Object(u["a"])(D,O,W,!1,null,null,null),I=q.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("This is reports")])},J=[],V={},H=Object(u["a"])(V,F,J,!1,null,null,null),G=H.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},z=[],B={},Y=Object(u["a"])(B,Q,z,!1,null,null,null),K=Y.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ms-5 me-5 mt-5"},[a("Loading",{attrs:{isLoading:t.isLoading}}),t.isLoading?t._e():a("div",[t._m(0),a("div",{staticStyle:{position:"relative"},attrs:{id:"results-table"}},[t.isReloading?a("div",{staticClass:"d-flex overlay justify-content-center"},[t._m(1)]):t._e(),a("table",{staticClass:"table table-hover table-responsive"},[t._m(2),t.isDataEmpty?t._e():a("tbody",t._l(t.nightbots,(function(e,s){return a("tr",{key:e._id},[a("td",[t._v(" "+t._s(e.provider)+" ")]),a("td",[t._v(" "+t._s(e.provider_id)+" ")]),a("td",[t._v(" "+t._s(e.registered_on)+" ")]),null==t.elementToUpdate?a("td",[t._v(" "+t._s(e.user.email)+" ")]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(" "+t._s(e.user.email)+" ")]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.user_id,expression:"elementToUpdate.user_id"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.elementToUpdate,"user_id",e.target.multiple?a:a[0])}}},t._l(t.users,(function(e){return a("option",{key:e._id,domProps:{selected:t.elementToUpdate.user_id==e._id,value:e._id}},[t._v(t._s(e.email))])})),0)]):t._e(),null==t.elementToUpdate?a("td",[e.is_active?a("span",{staticClass:"badge bg-success"},[t._v("Active")]):t._e(),e.is_active?t._e():a("span",{staticClass:"badge bg-danger"},[t._v("Not active")])]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[e.is_active?a("span",{staticClass:"badge bg-success"},[t._v("Active")]):t._e(),e.is_active?t._e():a("span",{staticClass:"badge bg-danger"},[t._v("Not active")])]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.is_active,expression:"elementToUpdate.is_active"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.elementToUpdate,"is_active",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:!0,selected:t.elementToUpdate.is_active}},[t._v("True")]),a("option",{domProps:{value:!1,selected:!t.elementToUpdate.is_active}},[t._v("False")])])]):t._e(),a("td",[null==t.elementToUpdate?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.prepareToUpdate(e)}}},[t._v("Update")]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("button",{staticClass:"btn btn-success btn-sm me-1",on:{click:function(e){return t.updateAction(s)}}},[t._v("Save")]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.cancelUpdate()}}},[t._v("Cancel")]):t._e()])])})),0),t.isDataEmpty?a("tbody",[t._m(3)]):t._e()])])])],1)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row border-bottom mb-3"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"float-start"},[t._v("Nightbots list")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border",staticStyle:{"margin-top":"12rem",width:"5rem",height:"5rem"},attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Provider")]),a("th",{attrs:{scope:"col"}},[t._v("Provider Id")]),a("th",{attrs:{scope:"col"}},[t._v("Registered on")]),a("th",{attrs:{scope:"col"}},[t._v("User")]),a("th",{attrs:{scope:"col"}},[t._v("Active")]),a("th",{attrs:{scope:"col"}},[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"no-data"},[a("td",{attrs:{colspan:"8"}},[t._v(" No data to display ")])])}],tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("div",{staticClass:"loading w-50 mx-auto"},[t._m(0)]):t._e()},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"spinner-border",staticStyle:{width:"5rem",height:"5rem"},attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])])}],at={props:{isLoading:{type:Boolean}}},st=at,it=Object(u["a"])(st,tt,et,!1,null,null,null),rt=it.exports,ot={components:{Loading:rt},data(){return{isLoading:!0,isReloading:!1,isDataEmpty:!1,nightbots:null,apiNightbotsList:Oe.getEndpoint("admin/nightbots"),apiNightbot:Oe.getEndpoint("admin/nightbot"),apiUsersList:Oe.getEndpoint("admin/users"),totalPages:0,totalElements:0,isUpdating:!1,elementToUpdate:null,users:null}},created(){this.fetchNightbots(),this.fetchUsers()},methods:{prepareToUpdate(t){this.elementToUpdate=t,this.isUpdating=!0},cancelUpdate(){this.isUpdating=!1,this.elementToUpdate=null},updateAction(t){const e=this.elementToUpdate._id;let a=S.getAuthHeader();a["Content-type"]="application/json";const s={method:"PUT",headers:a,body:JSON.stringify(this.elementToUpdate,Oe.jsonPayloadReplacer)};fetch(this.apiNightbot+"/"+e,s).then(t=>{if(t.ok)return t.json();this.handleResponseError(t)}).then(e=>{console.log(e.data);let a=e.data;this.$set(this.nightbots,t,a),this.isUpdating=!1,this.elementToUpdate=null}).catch(t=>{this.error=!0,this.errorMessage="Failed to fetch data from API server!",this.isUpdating=!1,this.elementToUpdate=null,console.log(t)})},fetchUsers(){const t=S.getAuthHeader(),e={method:"GET",headers:t};fetch(this.apiUsersList,e).then(t=>{if(t.ok)return t.json();this.handleResponseError(t)}).then(t=>{this.users=t.data}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})},fetchNightbots(){this.error=!1,this.errorMessage=null,this.isLoading=!0;const t=S.getAuthHeader(),e={method:"GET",headers:t};fetch(this.apiNightbotsList,e).then(t=>{if(t.ok)return t.json();this.handleResponseError(t)}).then(t=>{this.handleResponseSuccess(t)}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})},handleResponseSuccess(t){this.isLoading=!1,this.nightbots=t.data,this.totalPages=t.totalPages,this.totalElements=t.totalElements,0==this.totalElements&&(this.isDataEmpty=!0)},handleResponseError(t){this.isLoading=!1,this.error=!0,this.errorMessage=t.message}}},nt=ot,lt=(a("745d"),Object(u["a"])(nt,X,Z,!1,null,"194e93f7",null)),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},pt=[],ut={},mt=Object(u["a"])(ut,dt,pt,!1,null,null,null),ht=mt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ms-5 me-5 mt-5"},[a("Loading",{attrs:{isLoading:t.isLoading}}),t.isLoading?t._e():a("div",[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("select",{staticClass:"form-select",attrs:{id:"filter-type","aria-label":"Default select example"},on:{change:t.filterTypeChange}},[a("option",{attrs:{value:"empty",selected:""}},[t._v("Filter types")]),t._l(t.weaponTypes,(function(e){return a("option",{key:e._id,domProps:{value:e.name_lower}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"col"}),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"debounce",rawName:"v-debounce:1s.lock",value:t.searchChange,expression:"searchChange",arg:"1s",modifiers:{lock:!0}},{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search weapon","aria-label":"search"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})])])]),a("br"),a("div",{staticStyle:{position:"relative"},attrs:{id:"results-table"}},[t.isReloading?a("div",{staticClass:"d-flex overlay justify-content-center"},[t._m(1)]):t._e(),a("table",{staticClass:"table table-hover table-responsive"},[t._m(2),t.isDataEmpty?t._e():a("tbody",t._l(t.weapons,(function(e,s){return a("tr",{key:e._id},[null==t.elementToUpdate?a("td",[a("router-link",{attrs:{to:{name:"weapon",params:{name:e.name_lower}}}},[t._v(t._s(e.name))])],1):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.name,expression:"elementToUpdate.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.elementToUpdate.name},on:{input:function(e){e.target.composing||t.$set(t.elementToUpdate,"name",e.target.value)}}})]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[a("router-link",{attrs:{to:{name:"weapon",params:{name:e.name_lower}}}},[t._v(t._s(e.name))])],1):t._e(),null==t.elementToUpdate?a("td",[t._v(t._s(e.type.name))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.type_id,expression:"elementToUpdate.type_id"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.elementToUpdate,"type_id",e.target.multiple?a:a[0])}}},t._l(t.weaponTypes,(function(e){return a("option",{key:e._id,domProps:{selected:t.elementToUpdate.type_id==e._id,value:e._id}},[t._v(t._s(e.name))])})),0)]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(" "+t._s(e.type.name)+" ")]):t._e(),null==t.elementToUpdate?a("td",[t._v(t._s(e.statistics.accuracy))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(t._s(e.statistics.accuracy))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.statistics.accuracy,expression:"elementToUpdate.statistics.accuracy"}],staticClass:"form-control",staticStyle:{width:"80px"},attrs:{type:"number"},domProps:{value:t.elementToUpdate.statistics.accuracy},on:{input:function(e){e.target.composing||t.$set(t.elementToUpdate.statistics,"accuracy",e.target.value)}}})]):t._e(),null==t.elementToUpdate?a("td",[t._v(t._s(e.statistics.control))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(t._s(e.statistics.control))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.statistics.control,expression:"elementToUpdate.statistics.control"}],staticClass:"form-control",staticStyle:{width:"80px"},attrs:{type:"number"},domProps:{value:t.elementToUpdate.statistics.control},on:{input:function(e){e.target.composing||t.$set(t.elementToUpdate.statistics,"control",e.target.value)}}})]):t._e(),null==t.elementToUpdate?a("td",[t._v(t._s(e.statistics.damage))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(t._s(e.statistics.damage))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.statistics.damage,expression:"elementToUpdate.statistics.damage"}],staticClass:"form-control",staticStyle:{width:"80px"},attrs:{type:"number"},domProps:{value:t.elementToUpdate.statistics.damage},on:{input:function(e){e.target.composing||t.$set(t.elementToUpdate.statistics,"damage",e.target.value)}}})]):t._e(),null==t.elementToUpdate?a("td",[t._v(t._s(e.statistics.fireRate))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(t._s(e.statistics.fireRate))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.statistics.fireRate,expression:"elementToUpdate.statistics.fireRate"}],staticClass:"form-control",staticStyle:{width:"80px"},attrs:{type:"number"},domProps:{value:t.elementToUpdate.statistics.fireRate},on:{input:function(e){e.target.composing||t.$set(t.elementToUpdate.statistics,"fireRate",e.target.value)}}})]):t._e(),null==t.elementToUpdate?a("td",[t._v(t._s(e.statistics.mobility))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(t._s(e.statistics.mobility))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.statistics.mobility,expression:"elementToUpdate.statistics.mobility"}],staticClass:"form-control",staticStyle:{width:"80px"},attrs:{type:"number"},domProps:{value:t.elementToUpdate.statistics.mobility},on:{input:function(e){e.target.composing||t.$set(t.elementToUpdate.statistics,"mobility",e.target.value)}}})]):t._e(),null==t.elementToUpdate?a("td",[t._v(t._s(e.statistics.range))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id!=e._id?a("td",[t._v(t._s(e.statistics.range))]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.elementToUpdate.statistics.range,expression:"elementToUpdate.statistics.range"}],staticClass:"form-control",staticStyle:{width:"80px"},attrs:{type:"number"},domProps:{value:t.elementToUpdate.statistics.range},on:{input:function(e){e.target.composing||t.$set(t.elementToUpdate.statistics,"range",e.target.value)}}})]):t._e(),a("td",[null==t.elementToUpdate?a("button",{staticClass:"btn btn-primary btn-sm me-1",on:{click:function(a){return t.prepareToUpdate(e)}}},[t._v("Update")]):t._e(),null==t.elementToUpdate?a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.deleteAction(e)}}},[t._v("Delete")]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("button",{staticClass:"btn btn-success btn-sm me-1",on:{click:function(e){return t.updateAction(s)}}},[t._v("Save")]):t._e(),null!=t.elementToUpdate&&t.elementToUpdate._id==e._id?a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.cancelUpdate()}}},[t._v("Cancel")]):t._e()])])})),0),t.isDataEmpty?a("tbody",[t._m(3)]):t._e()])]),t.isLoading||t.isDataEmpty?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("nav",{staticClass:"float-end"},[a("ul",{staticClass:"pagination"},[t.isFirstPage?t._e():a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.previousPage}},[t._v("Previous")])]),t._l(t.totalPages,(function(e){return a("li",{key:e,class:{"page-item active":t.currentPage==e,"page-item":t.currentPage!=e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.updatePage(a,e)}}},[t._v(t._s(e))])])})),t.isLastPage?t._e():a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.nextPage}},[t._v("Next")])])],2)])])])])],1)},vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row border-bottom mb-3"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"float-start"},[t._v("Weapons list")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border",staticStyle:{"margin-top":"12rem",width:"5rem",height:"5rem"},attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Type")]),a("th",{attrs:{scope:"col"}},[t._v("Accuracy")]),a("th",{attrs:{scope:"col"}},[t._v("Control")]),a("th",{attrs:{scope:"col"}},[t._v("Damage")]),a("th",{attrs:{scope:"col"}},[t._v("Fire Rate")]),a("th",{attrs:{scope:"col"}},[t._v("Mobility")]),a("th",{attrs:{scope:"col"}},[t._v("Range")]),a("th",{attrs:{scope:"col"}},[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"no-data"},[a("td",{attrs:{colspan:"8"}},[t._v(" No data to display ")])])}],_t={components:{Loading:rt},data(){return{isLoading:!0,isReloading:!1,isDataEmpty:!1,weapons:null,weaponTypes:null,apiWeaponsList:Oe.getEndpoint("weapons"),apiWeaponTypes:Oe.getEndpoint("weaponTypes"),apiWeapon:Oe.getEndpoint("admin/weapon"),totalPages:0,totalElements:0,currentPage:1,currentLimit:10,isUpdating:!1,isDeleting:!1,elementToUpdate:null,queryParams:{page:1,limit:10},filterType:null,searchQuery:null,searchValue:"",isLastPage:!1,isFirstPage:!1}},created(){this.fetchWeapons(!0),this.fetchWeaponTypes()},watch:{currentPage:function(){this.fetchWeapons(!1)},filterType:function(){this.fetchWeapons(!1)},searchQuery:function(){this.fetchWeapons(!1)}},methods:{prepareToUpdate(t){this.elementToUpdate=t,this.isUpdating=!0},cancelUpdate(){this.isUpdating=!1,this.elementToUpdate=null},updateAction(t){const e=this.elementToUpdate._id;let a=S.getAuthHeader();a["Content-type"]="application/json",console.log(JSON.stringify(this.elementToUpdate));const s={method:"PUT",headers:a,body:JSON.stringify(this.elementToUpdate,Oe.jsonPayloadReplacer)};fetch(this.apiWeapon+"/"+e,s).then(t=>{if(t.ok)return t.json();this.handleResponseError(t)}).then(e=>{console.log(e.data);let a=e.data;this.$set(this.weapons,t,a),this.isUpdating=!1,this.elementToUpdate=null}).catch(t=>{this.error=!0,this.errorMessage="Failed to fetch data from API server!",this.isUpdating=!1,this.elementToUpdate=null,console.log(t)})},deleteAction(t){console.log(t._id)},filterTypeChange(t){this.filterType="empty"==t.target.value?null:t.target.value,this.queryParams["type"]="empty"==t.target.value?"":t.target.value,this.queryParams["page"]=1},searchChange(){this.searchQuery=0==this.searchValue.length?null:this.searchValue,this.queryParams["name"]=0==this.searchValue.length?"":this.searchValue},fetchWeaponTypes(){const t=S.getAuthHeader(),e={method:"GET",headers:t};fetch(this.apiWeaponTypes,e).then(t=>{if(t.ok)return t.json();this.handleResponseError(t)}).then(t=>{this.weaponTypes=t.data}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})},fetchWeapons(t=!1){this.error=!1,this.errorMessage=null,this.isLoading=t,this.isReloading=!t;const e=this.$route.query;t&&"undefined"!=typeof e&&("page"in Object.keys(e)&&(this.queryParams["page"]=e["page"]),"limit"in Object.keys(e)&&(this.queryParams["limit"]=e["limit"]),"search"in Object.keys(e)&&(this.queryParams["name"]=e["search"]),"type"in Object.keys(e)&&(this.queryParams["type"]=e["type"])),this.$router.replace({name:"weaponslist",query:{page:this.queryParams["page"],limit:this.queryParams["limit"],search:this.queryParams["name"],type:this.queryParams["type"]}}),this.isFirstPage=1==this.queryParams["page"],this.isLastPage=this.queryParams["page"]==this.totalPages;let a="?page="+this.queryParams["page"]+"&limit="+this.queryParams["limit"];null!=this.filterType&&(a+="&type="+this.filterType),null!=this.searchQuery&&(a+='&search="'+this.searchQuery+'"');const s=S.getAuthHeader(),i={method:"GET",headers:s};fetch(this.apiWeaponsList+a,i).then(t=>{if(t.ok)return t.json();this.handleResponseError(t)}).then(t=>{this.handleResponseSuccess(t)}).catch(t=>{this.isLoading=!1,this.isReloading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})},handleResponseSuccess(t){this.isLoading=!1,this.isReloading=!1,this.weapons=t.data,this.totalPages=t.totalPages,this.totalElements=t.totalElements,this.isDataEmpty=0==this.totalElements},handleResponseError(t){this.isLoading=!1,this.isReloading=!1,this.error=!0,this.errorMessage=t.message},updatePage(t,e){t.preventDefault(),this.queryParams["page"]=e,this.currentPage=e},previousPage(t){t.preventDefault(),this.queryParams["page"]>1&&(this.queryParams["page"]--,this.currentPage=this.queryParams["page"])},nextPage(t){t.preventDefault(),console.log("next"),this.queryParams["page"]<this.totalPages&&(this.queryParams["page"]++,this.currentPage=this.queryParams["page"])}}},ft=_t,bt=(a("7aad"),Object(u["a"])(ft,gt,vt,!1,null,"4ad092dd",null)),yt=bt.exports,wt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("h1",[t._v("This is Home route")])])}],Tt={},Pt=Object(u["a"])(Tt,wt,Ct,!1,null,null,null),xt=Pt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container w-25 mt-5"},[t.error?a("div",{staticClass:"alert alert-danger mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),a("h1",{staticClass:"h3 mb-3 fw-normal"},[t._v("Please login")]),a("form",[a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"input-email",placeholder:"example"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{attrs:{for:"input-email"}},[t._v("Email address")])]),a("div",{staticClass:"form-floating  mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"input-password",placeholder:"example"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("label",{attrs:{for:"input-password"}},[t._v("Password")])]),t._m(0),a("button",{staticClass:"w-100 btn btn-md btn-primary",attrs:{disabled:t.isLoading},on:{click:t.login}},[t._v("Login")])])])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox mb-3"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" Remember me ")])])}],Et={data(){return{data:null,isLoading:!1,email:"",password:"",error:!1,errorMessage:null,apiLogin:"https://cod-warzone-guns-api.pawedrabik.repl.co/login"}},methods:{login(t){t.preventDefault(),this.error=!1,this.errorMessage=null,this.isLoading=!0;let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})};fetch(this.apiLogin,e).then(t=>{if(t.ok)return t.json();this.error=!0,this.errorMessage="Invalid credentials!"}).then(t=>{if("undefined"!=typeof t){this.data=t;let e={access_token:t.access_token,refresh_token:t.refresh_token};localStorage.setItem("auth_data",JSON.stringify(e)),this.$store.commit("checkIsAuthenticated"),this.$store.commit("getUserDetails"),this.$router.push("/")}this.isLoading=!1}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API!",this.email="",this.password="",console.log(t)})}}},Lt=Et,St=Object(u["a"])(Lt,Ut,kt,!1,null,null,null),$t=St.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container w-25 mt-5"},[t.error?a("div",{staticClass:"alert alert-danger mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t.success?a("div",{staticClass:"alert alert-success mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.successMessage)+" ")]):t._e(),a("h1",{staticClass:"h3 mb-3 fw-normal"},[t._v("Create new account")]),a("form",[a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"input-email",placeholder:"example"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("label",{attrs:{for:"input-email"}},[t._v("Email address")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"input-password",placeholder:"example"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("label",{attrs:{for:"input-password"}},[t._v("Password")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordRepeat,expression:"passwordRepeat"}],staticClass:"form-control",attrs:{type:"password",id:"input-password-repeat",placeholder:"example"},domProps:{value:t.passwordRepeat},on:{input:function(e){e.target.composing||(t.passwordRepeat=e.target.value)}}}),a("label",{attrs:{for:"input-password-repeat"}},[t._v("Repeat password")])]),a("button",{staticClass:"w-100 btn btn-md btn-primary",attrs:{disabled:t.isLoading},on:{click:t.register}},[t._v("Register")])])])},Nt=[],Rt={data(){return{data:null,isLoading:!1,email:"",password:"",passwordRepeat:"",error:!1,errorMessage:null,success:!1,successMessage:null,apiRegister:"https://cod-warzone-guns-api.pawedrabik.repl.co/register"}},methods:{register(t){t.preventDefault(),this.error=!1,this.errorMessage=null,this.isLoading=!0;const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})};fetch(this.apiRegister,e).then(t=>{if(t.ok)return t.json();this.error=!0,this.errorMessage="Invalid credentials"}).then(t=>{this.data=t,this.isLoading=!1;let e=t.status;"error"==e?(this.error=!0,this.errorMessage=t.message):(this.success=!0,this.successMessage="You have been successfully registered"),this.email="",this.password="",this.passwordRepeat=""}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",this.email="",this.password="",this.passwordRepeat="",console.log(t)})}}},jt=Rt,Mt=Object(u["a"])(jt,At,Nt,!1,null,null,null),Ot=Mt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container w-25 mt-5"},[t.error?a("div",{staticClass:"alert alert-danger mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t.success?a("div",{staticClass:"alert alert-success mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.successMessage)+" ")]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"text-start"},[t._v("Email")]),a("form",[a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{disabled:"",type:"email",id:"input-email",placeholder:"example"},domProps:{value:t.user.email}}),a("label",{attrs:{for:"input-email"}},[t._v("Email")])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"text-start"},[t._v("Role")]),a("form",[a("div",{staticClass:"form-floating mb-3"},[a("input",{staticClass:"form-control",attrs:{disabled:"",type:"text",id:"input-role",placeholder:"example"},domProps:{value:t.user.role}}),a("label",{attrs:{for:"input-role"}},[t._v("Role")])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"text-start"},[t._v("Change password")]),a("form",[a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],staticClass:"form-control",attrs:{type:"password",id:"input-current-password",placeholder:"example"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}}),a("label",{attrs:{for:"input-current-password"}},[t._v("Current password")])]),a("div",{staticClass:"form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"email",id:"input-new-password",placeholder:"example"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),a("label",{attrs:{for:"input-new-password"}},[t._v("New password")])]),a("div",{staticClass:"form-floating  mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPasswordRepeat,expression:"newPasswordRepeat"}],staticClass:"form-control",attrs:{type:"password",id:"input-new-password-repeat",placeholder:"example"},domProps:{value:t.newPasswordRepeat},on:{input:function(e){e.target.composing||(t.newPasswordRepeat=e.target.value)}}}),a("label",{attrs:{for:"input-new-password-repeat"}},[t._v("Repeat new password")])]),a("button",{staticClass:"w-100 btn btn-md btn-primary",attrs:{disabled:t.isLoading},on:{click:t.changePassword}},[t._v("Change password")])])])])])},Dt=[],qt={data(){return{user:this.$store.state.user,isLoading:!1,apiUserProfile:Oe.base+"/user/profile",error:!1,errorMessage:null,success:!1,successMessage:null}},methods:{changePassword(t){t.preventDefault(),console.log("change password")}}},It=qt,Ft=Object(u["a"])(It,Wt,Dt,!1,null,null,null),Jt=Ft.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("Loading",{attrs:{isLoading:t.isLoading}}),t.error?a("div",{staticClass:"alert alert-danger mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t.success?a("div",{staticClass:"alert alert-success mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.successMessage)+" ")]):t._e(),t.isLoading?t._e():a("div",[t._m(0),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},[t.nightbot?t._e():a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v("Do you want to have access to Cod Weapons in your Twitch chat?")]),t._m(1),a("p",{staticClass:"card-text"},[t._v("In order to enable Nightbot integration in your Twitch Nightobt, you need to first create customized command as presented below: ")]),t._m(2),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"input-group w-50"},[a("span",{staticClass:"input-group-text"},[t._v("Message")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.command,expression:"command"}],staticClass:"form-control",staticStyle:{resize:"none","background-color":"white",height:"100px"},attrs:{readonly:"","aria-label":"With textarea"},domProps:{value:t.command},on:{input:function(e){e.target.composing||(t.command=e.target.value)}}})])]),a("br"),a("p",{staticClass:"card-text"},[t._v(" After the command has been successfully created you need to execute it in the Twitch chat:")]),a("img",{staticClass:"mb-3",attrs:{src:t.twitchImage}}),a("p",{staticClass:"card-text"},[t._v(" As a return message you should see Nightbot successfully regsitered in CoD Weapons API!")])])]),t.nightbot?a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",{staticClass:"text-start fw-bold",staticStyle:{width:"20%"}},[t._v("Status")]),a("td",{staticClass:"text-start"},[t.nightbot?a("span",{staticClass:"badge bg-success"},[t._v("Active")]):t._e()])]),t.nightbot?a("tr",[a("td",{staticClass:"text-start fw-bold",staticStyle:{width:"20%"}},[t._v("Provider")]),a("td",{staticClass:"text-start"},[t._v(t._s(t.nightbot.provider))])]):t._e(),t.nightbot?a("tr",[a("td",{staticClass:"text-start fw-bold",staticStyle:{width:"20%"}},[t._v("Provider Id")]),a("td",{staticClass:"text-start"},[t._v(t._s(t.nightbot.provider_id))])]):t._e(),t.nightbot?a("tr",[a("td",{staticClass:"text-start fw-bold",staticStyle:{width:"20%"}},[t._v("Active since")]),a("td",{staticClass:"text-start"},[t._v(t._s(t.nightbot.registered_on))])]):t._e()])]):t._e()])])])],1)},Ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row border-bottom"},[a("div",{staticClass:"col-12 "},[a("h1",{staticClass:"float-start pb-2"},[t._v("Nightbot integration")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"card-text"},[t._v("At the moment CoD API weapons can be integrated with Twtich chat bot "),a("a",{attrs:{href:"https://nightbot.tv/",target:"blank"}},[t._v("Nightbot")]),t._v(".")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"input-group mb-3 w-50"},[a("span",{staticClass:"input-group-text"},[t._v("Command")]),a("input",{staticClass:"form-control",staticStyle:{"background-color":"white"},attrs:{disabled:"",type:"text",placeholder:"City","aria-label":"City",value:"!cod-api-weapons-regsiter"}})])])}],Gt={components:{Loading:rt},data(){return{user:null,nightbot:null,isLoading:!1,apiUserNightbot:Oe.getEndpoint("user/nightbot"),error:!1,errorMessage:null,success:!1,successMessage:null,command:null,twitchImage:"/img/nightbot_register_twitch.PNG"}},created(){this.fetchNightbot(),this.user=Fe.state.user,this.command="$(eval const response = $(urlfetch json https://cod-warzone-guns-api.pawedrabik.repl.co/nightbot/register/"+this.user.id+"); response.message)"},methods:{fetchNightbot(){this.error=!1,this.errorMessage=null,this.isLoading=!0;const t=S.getAuthHeader(),e={method:"GET",headers:t};fetch(this.apiUserNightbot,e).then(t=>{if(t.ok)return t.json();this.handleResponseError(t)}).then(t=>{this.handleResponseSuccess(t)}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})},handleResponseSuccess(t){this.isLoading=!1,this.nightbot=t.data},handleResponseError(t){this.isLoading=!1,this.error=!0,this.errorMessage=t.message}}},Qt=Gt,zt=Object(u["a"])(Qt,Vt,Ht,!1,null,null,null),Bt=zt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},Kt=[],Xt={},Zt=Object(u["a"])(Xt,Yt,Kt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("Loading",{attrs:{isLoading:t.isLoadingWeapons&&t.isLoadingWeponTypes}}),a("h1",[t._v(" builds list ")])],1)},ae=[],se={},ie=Object(u["a"])(se,ee,ae,!1,null,null,null),re=ie.exports,oe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("h1",[t._v(" builds new ")])])}],le={},ce=Object(u["a"])(le,oe,ne,!1,null,null,null),de=ce.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("Loading",{attrs:{isLoading:t.isLoadingWeapons&&t.isLoadingWeponTypes}}),t.error?a("div",{staticClass:"alert alert-danger mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t.isLoadingWeapons&&t.isLoadingWeponTypes?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("select",{staticClass:"form-select",attrs:{id:"filter-type","aria-label":"Default select example"},on:{change:t.filterTypeChange}},[a("option",{attrs:{value:"empty",selected:""}},[t._v("Filter types")]),t._l(t.weaponTypesData,(function(e){return a("option",{key:e._id,domProps:{value:e.name_lower}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"col"}),a("div",{staticClass:"col"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"debounce",rawName:"v-debounce:1s.lock",value:t.searchChange,expression:"searchChange",arg:"1s",modifiers:{lock:!0}},{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search weapon","aria-label":"search"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})])])]),a("br"),a("div",{staticStyle:{position:"relative"},attrs:{id:"results-table"}},[t.isReloading||t.isLoadingWeapons?a("div",{staticClass:"d-flex overlay justify-content-center"},[t._m(0)]):t._e(),a("table",{staticClass:"table table-hover table-responsive"},[t._m(1),t.isLoadingWeapons||t.isDataEmpty?t._e():a("tbody",t._l(t.weaponsData,(function(e){return a("tr",{key:e._id},[a("td",[a("router-link",{attrs:{to:{name:"weapon",params:{name:e.name_lower}}}},[t._v(t._s(e.name))])],1),a("td",[t._v(t._s(e.type.name))]),a("td",[t._v(t._s(e.statistics.accuracy))]),a("td",[t._v(t._s(e.statistics.control))]),a("td",[t._v(t._s(e.statistics.damage))]),a("td",[t._v(t._s(e.statistics.fireRate))]),a("td",[t._v(t._s(e.statistics.mobility))]),a("td",[t._v(t._s(e.statistics.range))])])})),0),!t.isLoadingWeapons&&t.isDataEmpty?a("tbody",[t._m(2)]):t._e()])]),a("br"),t.isLoadingWeapons||t.isDataEmpty?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("select",{staticClass:"form-select limit-elements",attrs:{"aria-label":"Default select example"},on:{change:t.limitChange}},[a("option",{attrs:{value:"10"},domProps:{selected:10==t.currentLimit}},[t._v("10")]),a("option",{attrs:{value:"20"},domProps:{selected:20==t.currentLimit}},[t._v("20")]),a("option",{attrs:{value:"50"},domProps:{selected:50==t.currentLimit}},[t._v("50")]),a("option",{attrs:{value:"100"},domProps:{selected:100==t.currentLimit}},[t._v("100")])])]),a("div",{staticClass:"col"},[a("nav",{staticClass:"float-end"},[a("ul",{staticClass:"pagination"},[t.isFirstPage?t._e():a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.previousPage}},[t._v("Previous")])]),t._l(t.totalPages,(function(e){return a("li",{key:e,class:{"page-item active":t.currentPage==e,"page-item":t.currentPage!=e}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return t.updatePage(a,e)}}},[t._v(t._s(e))])])})),t.isLastPage?t._e():a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.nextPage}},[t._v("Next")])])],2)])])])])],1)},ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border",staticStyle:{"margin-top":"12rem",width:"5rem",height:"5rem"},attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Type")]),a("th",{attrs:{scope:"col"}},[t._v("Accuracy")]),a("th",{attrs:{scope:"col"}},[t._v("Control")]),a("th",{attrs:{scope:"col"}},[t._v("Damage")]),a("th",{attrs:{scope:"col"}},[t._v("Fire Rate")]),a("th",{attrs:{scope:"col"}},[t._v("Mobility")]),a("th",{attrs:{scope:"col"}},[t._v("Range")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"no-data"},[a("td",{attrs:{colspan:"8"}},[t._v(" No data to display ")])])}],me={components:{Loading:rt},data(){return{isLoadingWeapons:!1,isLoadingWeponTypes:!1,isReloading:!1,weaponsData:null,weaponTypesData:null,error:!1,errorMessage:null,totalPages:0,totalElements:0,currentPage:1,currentLimit:10,filterType:null,apiWeapons:"https://cod-warzone-guns-api.pawedrabik.repl.co/weapons",apiWeaponTypes:"https://cod-warzone-guns-api.pawedrabik.repl.co/weaponTypes",queryParams:{page:1,limit:10},searchQuery:null,searchValue:"",isDataEmpty:!1,isLastPage:!1,isFirstPage:!1}},watch:{currentPage:function(){this.fetchWeaponsData(!1)},currentLimit:function(){this.fetchWeaponsData(!1)},filterType:function(){this.fetchWeaponsData(!1)},searchQuery:function(){this.fetchWeaponsData(!1)}},created(){this.fetchWeaponsData(!0),this.fetchWeaponTypes()},methods:{limitChange(t){this.queryParams["limit"]=t.target.value,this.queryParams["page"]=1,this.currentLimit=t.target.value},filterTypeChange(t){"empty"==t.target.value?this.filterType=null:this.filterType=t.target.value,this.queryParams["page"]=1},searchChange(){0==this.searchValue.length?(this.searchQuery=null,this.queryParams["name"]=""):(this.searchQuery=this.searchValue,this.queryParams["name"]=this.searchValue)},updatePage(t,e){t.preventDefault(),this.queryParams["page"]=e,this.currentPage=e},previousPage(t){t.preventDefault(),this.queryParams["page"]>1&&(this.queryParams["page"]--,this.currentPage=this.queryParams["page"])},nextPage(t){t.preventDefault(),this.queryParams["page"]<this.totalPages&&(this.queryParams["page"]++,this.currentPage=this.queryParams["page"])},fetchWeaponsData(t=!1){this.error=!1,this.isLoadingWeapons=t,this.isReloading=!t;let e=this.$route.query;t&&"undefined"!=typeof e&&("page"in Object.keys(e)&&(this.queryParams["page"]=e["page"]),"limit"in Object.keys(e)&&(this.queryParams["limit"]=e["limit"]),"search"in Object.keys(e)&&(this.queryParams["name"]=e["search"])),this.$router.replace({name:"weapons",query:{page:this.queryParams["page"],limit:this.queryParams["limit"],search:this.queryParams["name"]}}),this.isFirstPage=1==this.queryParams["page"],this.isLastPage=this.queryParams["page"]==this.totalPages;let a="?page="+this.queryParams["page"]+"&limit="+this.queryParams["limit"];null!=this.filterType&&(a+="&type="+this.filterType),null!=this.searchQuery&&(a+='&search="'+this.searchQuery+'"'),fetch(this.apiWeapons+a,{method:"GET"}).then(t=>{if(t.ok)return t.json();this.error=!0,this.errorMessage=t.message}).then(t=>{this.weaponsData=t.data,this.isLoadingWeapons=!1,this.isReloading=!1,this.totalPages=t.totalPages,this.totalElements=t.totalElements,this.isDataEmpty=0==this.totalElements,this.isDataEmpty=!1}).catch(t=>{this.isLoadingWeapons=!1,this.isReloading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})},fetchWeaponTypes(){this.error=!1,this.isLoadingWeponTypes=!0,fetch(this.apiWeaponTypes,{method:"GET"}).then(t=>{if(t.ok)return t.json();this.error=!0,this.errorMessage=t.message}).then(t=>{this.weaponTypesData=t.data,this.isLoadingWeponTypes=!1}).catch(t=>{this.isLoadingWeponTypes=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})}}},he=me,ge=(a("1355"),Object(u["a"])(he,pe,ue,!1,null,"3f5797e1",null)),ve=ge.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("Loading",{attrs:{isLoading:t.isLoading}}),t.error?a("div",{staticClass:"alert alert-danger mx-auto",attrs:{role:"alert"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t.isLoading?t._e():a("div",[t.isDataEmpty?a("div",[a("h3",[t._v(t._s(t.dataEmptyMessage))]),a("router-link",{directives:[{name:"on-click",rawName:"v-on-click"}],attrs:{to:"/weapons"}},[t._v("Go back to weapons list")])],1):t._e(),t.isDataEmpty?t._e():a("div",[a("div",{staticClass:"row border-bottom"},[a("div",{staticClass:"col-12 "},[a("h1",{staticClass:"float-start pb-2"},[t._v(t._s(t.weapon.name))]),a("button",{staticClass:"btn btn-primary float-end"},[t._v("Create build using this weapon")])])]),a("div",{staticClass:"row mt-3 border-bottom"},[a("div",{staticClass:"col-12"},[a("svg",{staticClass:"bd-placeholder-img bd-placeholder-img-lg img-fluid pb-3",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",role:"img",preserveAspectRatio:"xMidYMid slice",focusable:"false"}},[a("title",[t._v("Placeholder")]),a("rect",{attrs:{width:"100%",height:"100%",fill:"#868e96"}}),a("text",{attrs:{x:"45%",y:"45%",fill:"#dee2e6",dy:".3em"}},[t._v("Weapon image")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",{staticClass:"text-start fw-bold",staticStyle:{width:"20%"}},[t._v("Class")]),a("td",{staticClass:"text-start"},[t._v(t._s(t.weapon.type.name))])]),t._m(0),t._m(1)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"text-start"},[t._v(t._s(t.weapon.name)+" stats")]),a("table",{staticClass:"table table-dark"},[a("tbody",[a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Accuracy")]),a("td",{staticStyle:{width:"60%"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"25%"},attrs:{role:"progressbar","aria-valuenow":t.weapon.statistics.accuracy,"aria-valuemin":"0","aria-valuemax":"100"}})])]),a("td",[t._v(" "+t._s(t.weapon.statistics.accuracy)+" ")])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Control")]),a("td",{staticStyle:{width:"60%"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"25%"},attrs:{role:"progressbar","aria-valuenow":t.weapon.statistics.accuracy,"aria-valuemin":"0","aria-valuemax":"100"}})])]),a("td",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.weapon.statistics.control)+" ")])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Damage")]),a("td",{staticStyle:{width:"60%"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"25%"},attrs:{role:"progressbar","aria-valuenow":t.weapon.statistics.accuracy,"aria-valuemin":"0","aria-valuemax":"100"}})])]),a("td",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.weapon.statistics.damage)+" ")])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Fire Rate")]),a("td",{staticStyle:{width:"60%"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"25%"},attrs:{role:"progressbar","aria-valuenow":t.weapon.statistics.fireRate,"aria-valuemin":"0","aria-valuemax":"100"}})])]),a("td",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.weapon.statistics.fireRate)+" ")])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Mobility")]),a("td",{staticStyle:{width:"60%"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"25%"},attrs:{role:"progressbar","aria-valuenow":t.weapon.statistics.mobility,"aria-valuemin":"0","aria-valuemax":"100"}})])]),a("td",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.weapon.statistics.mobility)+" ")])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Range")]),a("td",{staticStyle:{width:"60%"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",staticStyle:{width:"25%"},attrs:{role:"progressbar","aria-valuenow":t.weapon.statistics.range,"aria-valuemin":"0","aria-valuemax":"100"}})])]),a("td",{staticStyle:{width:"20%"}},[t._v(" "+t._s(t.weapon.statistics.range)+" ")])])]),t._m(2)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"text-start"},[t._v(t._s(t.weapon.name)+" attachments")]),0==t.weapon.available_attachments?a("h4",[t._v("No attachments found for this weapon!")]):t._e(),t._l(t.weapon.available_attachments,(function(e){return a("table",{key:e._id,staticClass:"table"},[a("thead",[a("th",{staticClass:"text-start"},[t._v(t._s(e.name))]),a("th",[t._v("Level required")])]),a("tbody",t._l(t.weaponAttachments,(function(s){return a("tr",{key:s._id},[s.type_id==e._id?a("td",{staticClass:"text-start",staticStyle:{width:"70%"}},[t._v(t._s(s.name))]):t._e(),s.type_id==e._id?a("td",{staticStyle:{width:"30%"}},[t._v(t._s(s.lvl_requirement))]):t._e()])})),0)])}))],2)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"text-start"},[t._v(t._s(t.weapon.name)+" blueprints")]),a("h4",[t._v("No blueprints found for this weapon!")])])])])])])],1)},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-start fw-bold",staticStyle:{width:"20%"}},[t._v("Type")]),a("td",{staticClass:"text-start"},[t._v("Primary weapon")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-start fw-bold",staticStyle:{width:"20%"}},[t._v("Game")]),a("td",{staticClass:"text-start"},[t._v("Modern Warfare (2019)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tfoot",[a("tr",[a("td",{staticClass:"text-end",attrs:{colspan:"2"}},[t._v(" Overall score ")]),a("td",[t._v(" 70 ")])])])}],be={components:{Loading:rt},data(){return{user:this.$store.state.user,weapon:null,weaponAttachments:null,isLoading:!1,error:!1,errorMessage:null,isDataEmpty:!1,dataEmptyMessage:"",apiWeapons:Oe.getEndpoint("weapons"),apiWeaponAttachments:Oe.getEndpoint("weaponAttachments")}},created(){this.fetchWeaponData()},watch:{weaponAttachments:function(){this.isLoading=!1}},methods:{fetchWeaponData(){this.error=!1,this.isLoading=!0;let t=this.$route.params.name;fetch(this.apiWeapons+"?name="+t,{method:"GET"}).then(t=>{if(t.ok)return t.json();this.error=!0,this.errorMessage=t.message}).then(e=>{this.weapon=e.data,0==this.weapon.length?(this.isDataEmpty=!0,this.dataEmptyMessage="Weapon "+t+" has not been found!"):(this.weapon=e.data[0],this.fetchWeaponAttachments(this.weapon._id))}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})},fetchWeaponAttachments(t){fetch(this.apiWeaponAttachments+"?weapon_id="+t,{method:"GET"}).then(t=>{if(t.ok)return t.json();this.error=!0,this.errorMessage=t.message}).then(t=>{this.weaponAttachments=t.data}).catch(t=>{this.isLoading=!1,this.error=!0,this.errorMessage="Failed to fetch data from API server!",console.log(t)})}}},ye=be,we=Object(u["a"])(ye,_e,fe,!1,null,null,null),Ce=we.exports,Te=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("h1",[t._v(" weapon builds list ")])])}],xe={},Ue=Object(u["a"])(xe,Te,Pe,!1,null,null,null),ke=Ue.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-5"},[a("h1",{staticClass:"display-5 fw-bold"},[t._v("404")]),a("h3",[t._v(" Page you are looking for does not exist ")]),a("router-link",{staticClass:"btn btn-outline-secondary btn-lg px-4",attrs:{to:"/"}},[t._v("Home page")])],1)},Le=[],Se={},$e=Object(u["a"])(Se,Ee,Le,!1,null,null,null),Ae=$e.exports;s["a"].use($["a"]);const Ne=new $["a"]({mode:"history",routes:[{path:"/",name:"home",component:xt,meta:{title:"Home"}},{path:"/login",name:"login",component:$t},{path:"/register",name:"register",component:Ot},{path:"/weapons",name:"weapons",component:ve,query:{page:1,limit:10,search:""}},{path:"/weapon/:name",name:"weapon",component:Ce},{path:"/weaponbuilds",name:"weaponBuildList",component:ke,query:{page:1,limit:10,search:""}},{path:"/user/profile",name:"profile",component:Jt},{path:"/user/nightbot",name:"nightbot",component:Bt},{path:"/user/weaponbuilds",component:te,children:[{path:"",name:"userWeaponBuildsList",component:re,query:{page:1,limit:10,search:""}},{path:"new",name:"userWeaponBuildNew",component:de}]},{path:"/admin/dashboard",component:M,children:[{path:"",name:"dashboard",component:I},{path:"reports",name:"dashboardReports",component:G},{path:"nightbots",component:K,children:[{path:"list",name:"nightbotslist",component:ct}]},{path:"weapons",component:ht,children:[{path:"list",name:"weaponslist",component:yt,uery:{page:1,limit:10,search:"",type:""}}]}]},{path:"*",name:"error404",component:Ae}]});Ne.beforeEach((t,e,a)=>{const s=["login","register","home","weapons","weapon"],i=!s.includes(t.name),r=JSON.parse(localStorage.getItem("auth_data")),o=JSON.parse(localStorage.getItem("user"));console.log("Before each");let n=!1;i?r?(Oe.refreshToken(),Fe.commit("getUserDetails"),n="admin"==o.role,t.path.indexOf("admin")>-1&&!n?a("/"):a()):a("/login"):a()});var Re=Ne;const je="https://cod-warzone-guns-api.pawedrabik.repl.co",Me="token/refresh";var Oe={getEndpoint(t){return je+"/"+t},jsonPayloadReplacer(t,e){return"false"==e||"true"==e?Boolean(e):e},refreshToken(){const t=JSON.parse(localStorage.getItem("auth_data"));if("undefined"!=typeof t){const e=t.refresh_token,a={method:"POST",headers:{Authorization:"Bearer "+e}};fetch(this.getEndpoint(Me),a).then(t=>{if(t.ok)return console.log("Refresh token ok"),t.json();console.log("Refresh token not ok"),localStorage.removeItem("auth_data"),Fe.commit("checkIsAuthenticated"),Re.push("/login")}).then(t=>{let a={access_token:t.access_token,refresh_token:e};localStorage.setItem("auth_data",JSON.stringify(a))}).catch(t=>{console.error(t)})}}};s["a"].use(L["a"]);const We=JSON.parse(localStorage.getItem("auth_data")),De=!!We,qe=JSON.parse(localStorage.getItem("user")),Ie=new L["a"].Store({state:{isAuthenticated:De,user:qe},mutations:{checkIsAuthenticated(t){const e=JSON.parse(localStorage.getItem("auth_data"));t.isAuthenticated=!!e},setUser(t){const e=JSON.parse(localStorage.getItem("user"));t.user=e},getUserDetails(){Oe.refreshToken();const t={method:"GET",headers:S.getAuthHeader()};fetch(Oe.getEndpoint("user/profile"),t).then(t=>{if(t.ok)return t.json();localStorage.removeItem("auth_data"),this.commit("checkIsAuthenticated"),console.log("response not ok")}).then(t=>{let e=t.data,a={id:e._id,email:e.email,role:e.role};localStorage.setItem("user",JSON.stringify(a)),this.commit("setUser")}).catch(t=>{console.log(t)})}}});var Fe=Ie;s["a"].config.productionTip=!1,s["a"].use(r.a,{listenTo:["input","keyup"],defaultTime:"700ms"}),new s["a"]({router:Re,store:Fe,render:t=>t(E)}).$mount("#app")},"745d":function(t,e,a){"use strict";a("29e6")},"7aad":function(t,e,a){"use strict";a("c9c4")},"85ec":function(t,e,a){},9306:function(t,e,a){},c9c4:function(t,e,a){},dd44:function(t,e,a){},f91e:function(t,e,a){"use strict";a("43ad")}});
//# sourceMappingURL=app.e196aad2.js.map